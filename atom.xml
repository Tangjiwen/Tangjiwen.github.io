<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-03-20T05:47:50.190Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://example.com/2024/05/08/MYSQL%E4%B8%AD%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/"/>
    <id>http://example.com/2024/05/08/MYSQL%E4%B8%AD%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/</id>
    <published>2024-05-08T09:39:33.832Z</published>
    <updated>2024-03-20T05:47:50.190Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、表关系"><a href="#一、表关系" class="headerlink" title="一、表关系"></a>一、表关系</h2><h4 id="a-一对一"><a href="#a-一对一" class="headerlink" title="a.一对一"></a>a.一对一</h4><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210302162351.png" alt="image-20210302162351705"></p><h4 id="b-一对多-外键在学生表"><a href="#b-一对多-外键在学生表" class="headerlink" title="b.一对多(外键在学生表)"></a>b.一对多(外键在学生表)</h4><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210302162527.png" alt="image-20210302162527422"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure><h4 id="c-多对多"><a href="#c-多对多" class="headerlink" title="c.多对多"></a>c.多对多</h4><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210302162558.png" alt="image-20210302162558069"></p><h2 id="二、DQL"><a href="#二、DQL" class="headerlink" title="二、DQL"></a>二、DQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数据查询语言</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"> 作用是把数据库表里面的数据查询出来</span><br></pre></td></tr></table></figure><h3 id="1、基本查询"><a href="#1、基本查询" class="headerlink" title="1、基本查询"></a>1、基本查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">salary <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;赵日天&#x27;</span>,<span class="number">23</span>,<span class="number">6000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;李杀神&#x27;</span>,<span class="number">24</span>,<span class="number">4500</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;王诛魔&#x27;</span>,<span class="number">20</span>,<span class="number">5000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">30</span>,<span class="number">30000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;&#x27;</span>,<span class="number">29</span>,<span class="number">15000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">35</span>,<span class="number">40000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">30</span>,<span class="number">30000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 13查询前4条数据</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit <span class="number">4</span>;</span><br><span class="line"><span class="comment">-- 14查询出第二条到第五条数据</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit <span class="number">1</span>,<span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 15查询id为1或者3的的数据(两种方式)</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">or</span> id<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> id <span class="keyword">in</span>(<span class="number">1</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><h3 id="2、分页"><a href="#2、分页" class="headerlink" title="2、分页"></a>2、分页</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 分页</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- limit后面跟一个值--表示从第一行开始查,一次查n行</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit <span class="number">4</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- limit后面跟两个值--表示从第m+1行开始查,一次查询n行</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit m,n;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit <span class="number">0</span>,<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 页码pageNum,每页显示的数量pageSize表示</span></span><br><span class="line"><span class="comment">-- pageNum = 1</span></span><br><span class="line"><span class="comment">-- pageSize= 2</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit <span class="number">4</span>,<span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee limit (pageNum<span class="number">-1</span>)<span class="operator">*</span>pageSize,pageSize;</span><br></pre></td></tr></table></figure><h3 id="3、去重"><a href="#3、去重" class="headerlink" title="3、去重"></a>3、去重</h3><p>DISTINCT</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 去重</span></span><br><span class="line"><span class="comment">-- 去重关键字DISTINCT必须放在查询语句的第一列</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> name,age,salary <span class="keyword">from</span> employee;</span><br></pre></td></tr></table></figure><h2 id="二、进阶查询"><a href="#二、进阶查询" class="headerlink" title="二、进阶查询"></a>二、进阶查询</h2><h3 id="1、排序"><a href="#1、排序" class="headerlink" title="1、排序"></a>1、排序</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> salary(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">username <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">sal <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;赵日天&quot;,<span class="number">5000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;刘斩仙&quot;,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;王诛魔&quot;,<span class="number">9000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;李杀神&quot;,<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 排序</span></span><br><span class="line"><span class="comment">-- 排序 order by ... asc升序（默认）  desc降序</span></span><br><span class="line"><span class="comment">-- 升序-以工资升序排序 -- asc可以省略</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> salary <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">asc</span>;</span><br><span class="line"><span class="comment">-- 降序-以工资降序排序</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> salary <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><h3 id="2、聚合函数"><a href="#2、聚合函数" class="headerlink" title="2、聚合函数"></a>2、聚合函数</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 函数</span></span><br><span class="line"><span class="comment">-- 聚合函数</span></span><br><span class="line">#作用：对数据库里面的数据做算术运算</span><br><span class="line">#常用的聚合函数</span><br><span class="line"><span class="comment">-- avg count max min sum</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> salary(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">username <span class="type">VARCHAR</span>(<span class="number">20</span>),</span><br><span class="line">sal <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;赵日天&quot;,<span class="number">5000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;刘斩仙&quot;,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;王诛魔&quot;,<span class="number">9000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salary(username,sal) <span class="keyword">VALUES</span>(&quot;李杀神&quot;,<span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> salary;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- avg 求所有工资的平均值 排除了值为null的情况</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> salary;</span><br><span class="line"><span class="comment">-- count 统计表里面总共有多少行数据</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> salary;</span><br><span class="line"><span class="comment">-- count 统计表里面总共有多少行数据,但是要剔除数据为null情况</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(sal) <span class="keyword">from</span> salary;</span><br><span class="line"><span class="comment">-- max 求工资的最大值</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">from</span> salary;</span><br><span class="line"><span class="comment">-- min 求工资最小值</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">min</span>(sal) <span class="keyword">from</span> salary;</span><br><span class="line"><span class="comment">-- sum 计算所有工资的和</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(sal) <span class="keyword">from</span> salary;</span><br></pre></td></tr></table></figure><h3 id="3、分组"><a href="#3、分组" class="headerlink" title="3、分组"></a>3、分组</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 分组group by... HAVING ...</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> mytable(</span><br><span class="line">       id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">       type <span class="type">varchar</span>(<span class="number">100</span>),</span><br><span class="line">       n <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;a&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;b&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;c&#x27;</span>,<span class="number">6</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;a&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;b&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">6</span>,<span class="string">&#x27;c&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;b&#x27;</span>,<span class="number">5</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> mytable <span class="keyword">values</span>(<span class="number">8</span>,<span class="string">&#x27;c&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分组的语法通常需要跟聚合函数一起用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 统计每组有多少行</span></span><br><span class="line"><span class="keyword">select</span> type,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> mytable <span class="keyword">group</span> <span class="keyword">by</span> type;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 统计表里面总共有多少个a,多少个b,多少个c</span></span><br><span class="line"><span class="keyword">select</span> type,<span class="built_in">sum</span>(n) <span class="keyword">from</span> mytable <span class="keyword">group</span> <span class="keyword">by</span> type;</span><br><span class="line"><span class="comment">-- 得到数量大于10的类型</span></span><br><span class="line"><span class="keyword">select</span> type,<span class="built_in">sum</span>(n) <span class="keyword">as</span> total <span class="keyword">from</span> mytable <span class="keyword">group</span> <span class="keyword">by</span> type <span class="keyword">having</span> total<span class="operator">&gt;</span><span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分组之后的筛选必须使用having</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三、高级查询-多表查询"><a href="#三、高级查询-多表查询" class="headerlink" title="三、高级查询-多表查询"></a>三、高级查询-多表查询</h2><h4 id="1-关联查询"><a href="#1-关联查询" class="headerlink" title="1.关联查询"></a>1.关联查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 商品类型表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> typeinfo(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">typename <span class="type">VARCHAR</span>(<span class="number">100</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> typeinfo(typename) <span class="keyword">VALUES</span>(<span class="string">&#x27;大米&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> typeinfo(typename) <span class="keyword">VALUES</span>(<span class="string">&#x27;手机&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> typeinfo(typename) <span class="keyword">VALUES</span>(<span class="string">&#x27;家电&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> typeinfo(typename) <span class="keyword">VALUES</span>(<span class="string">&#x27;粮油&#x27;</span>),(<span class="string">&#x27;日用品&#x27;</span>),(<span class="string">&#x27;水果&#x27;</span>),(<span class="string">&#x27;服饰&#x27;</span>);</span><br><span class="line"><span class="comment">-- 商品信息表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> productinfo(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY auto_increment,</span><br><span class="line">pro_name <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">typeid <span class="type">int</span>,</span><br><span class="line">num <span class="type">int</span>,</span><br><span class="line">price <span class="keyword">DOUBLE</span>(<span class="number">8</span>,<span class="number">2</span>),</span><br><span class="line"><span class="comment">-- 外键关联</span></span><br><span class="line"><span class="keyword">FOREIGN</span> key (typeid) <span class="keyword">REFERENCES</span> typeinfo(id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> productinfo(pro_name,typeid,num,price) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;东北大米&#x27;</span>,<span class="number">1</span>,<span class="number">1000</span>,<span class="number">56.99</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> productinfo(pro_name,typeid,num,price) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;oppo手机&#x27;</span>,<span class="number">2</span>,<span class="number">1000</span>,<span class="number">3999.99</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> productinfo(pro_name,typeid,num,price) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;格力空调&#x27;</span>,<span class="number">3</span>,<span class="number">1000</span>,<span class="number">9999.99</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> productinfo(pro_name,typeid,num,price) </span><br><span class="line"><span class="keyword">VALUES</span>(<span class="string">&#x27;美的空调&#x27;</span>,<span class="number">3</span>,<span class="number">1000</span>,<span class="number">9999.99</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 关联查询(查询两张表相关联的数据)</span></span><br><span class="line"><span class="comment">-- 内连接</span></span><br><span class="line"><span class="comment">-- 语法 select * from 表1,表2 where 表1.外键=表2.主键</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> typeinfo,productinfo <span class="keyword">where</span>  typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br><span class="line"><span class="comment">-- 语法 select * from 表1 inner join 表2 on 表1.外键=表2.主键</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> typeinfo <span class="keyword">inner</span> <span class="keyword">join</span> productinfo <span class="keyword">on</span> typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 外连接</span></span><br><span class="line"><span class="comment">-- 左外连接(以左表为主表,会把左表数据全部查询出来)</span></span><br><span class="line"><span class="comment">-- 语法 select * from 表1 left join 表2 on 表1.主键=表2.外键</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> typeinfo <span class="keyword">left</span> <span class="keyword">join</span> productinfo <span class="keyword">on</span> typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> typeinfo <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> productinfo <span class="keyword">on</span> typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 右外连接(以右表为主表,会把右表数据全部查询出来)</span></span><br><span class="line"><span class="comment">-- 语法 select * from 表1 right join 表2 on 表1.主键=表2.外键</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> productinfo <span class="keyword">right</span> <span class="keyword">join</span> typeinfo <span class="keyword">on</span> typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> productinfo <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> typeinfo <span class="keyword">on</span> typeinfo.id<span class="operator">=</span>productinfo.typeid;</span><br></pre></td></tr></table></figure><h4 id="2-关联查询练习"><a href="#2-关联查询练习" class="headerlink" title="2.关联查询练习"></a>2.关联查询练习</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.查询出每个学生所在的班级，查询的结果为学生姓名和班级名称（分别使用内连接和外连接实现）</span></span><br><span class="line"><span class="keyword">select</span> s_name,c_name <span class="keyword">from</span> student,class <span class="keyword">where</span> student.class_id <span class="operator">=</span> class.c_id;</span><br><span class="line"><span class="comment">-- 2.查询出没有被学生学习的课程，查询的结果为课程名称</span></span><br><span class="line"><span class="keyword">select</span> c_name <span class="keyword">from</span> course <span class="keyword">left</span> <span class="keyword">join</span> score <span class="keyword">on</span> course.c_id <span class="operator">=</span> score.course_id <span class="keyword">where</span> s_id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 3.查询出所有被选学了的课程，查询的结果为课程名称</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> c_name <span class="keyword">from</span> course <span class="keyword">left</span> <span class="keyword">join</span> score <span class="keyword">on</span> course.c_id <span class="operator">=</span> score.course_id <span class="keyword">where</span> s_id  <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 4.查询出每个学生所学的课程以及成绩</span></span><br><span class="line"><span class="keyword">select</span> s_name,c_name,number <span class="keyword">from</span> student,course,score <span class="keyword">where</span> score.student_id<span class="operator">=</span>student.s_id <span class="keyword">and</span> score.course_id<span class="operator">=</span>course.c_id;</span><br><span class="line"><span class="comment">-- 5、 查询出选择了1号课程的学生姓名及成绩，并按成绩降序排列</span></span><br><span class="line"><span class="keyword">select</span> s_name,c_name,number <span class="keyword">from</span> student,course,score <span class="keyword">where</span> score.student_id<span class="operator">=</span>student.s_id <span class="keyword">and</span> score.course_id<span class="operator">=</span>course.c_id <span class="keyword">and</span> course_id<span class="operator">=</span><span class="number">1</span> <span class="keyword">order</span> <span class="keyword">by</span> number <span class="keyword">desc</span>;</span><br><span class="line"><span class="comment">-- 6、 查询出参加选课的学生及选课信息，未参加选课的人员不需要显示</span></span><br><span class="line"><span class="keyword">select</span> s_name,c_name <span class="keyword">from</span> student,course,score <span class="keyword">where</span> score.student_id<span class="operator">=</span>student.s_id <span class="keyword">and</span> score.course_id<span class="operator">=</span>course.c_id;</span><br><span class="line"><span class="comment">-- 7、 查询出所有学生的选课情况，未参加选课的人员需要显示</span></span><br><span class="line"><span class="keyword">select</span> s_name,c_name <span class="keyword">from</span> student <span class="keyword">left</span> <span class="keyword">join</span> score <span class="keyword">on</span> student.s_id<span class="operator">=</span>score.student_id <span class="keyword">left</span> <span class="keyword">join</span> course <span class="keyword">on</span> score.course_id<span class="operator">=</span>course.c_id;</span><br><span class="line"><span class="comment">-- 8、 查询出未参加选课的学生信息，查询结果为学生姓名</span></span><br><span class="line"><span class="keyword">select</span> s_name <span class="keyword">from</span> student <span class="keyword">left</span> <span class="keyword">join</span> score <span class="keyword">on</span> score.student_id<span class="operator">=</span>student.s_id <span class="keyword">where</span> score.s_id <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 9、 查询出学号为‘1’的选修课程的总学分数</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(number) <span class="keyword">from</span> score <span class="keyword">where</span> student_id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- 10、 查询出2号课程取得最高分数的学生姓名及分数</span></span><br><span class="line"><span class="keyword">select</span> s_name,number <span class="keyword">from</span> student,score <span class="keyword">where</span> student.s_id<span class="operator">=</span>score.student_id <span class="keyword">and</span> course_id<span class="operator">=</span><span class="number">2</span> <span class="keyword">order</span> <span class="keyword">by</span> number <span class="keyword">desc</span> limit <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h4 id="3-子查询"><a href="#3-子查询" class="headerlink" title="3.子查询"></a>3.子查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">子查询在<span class="keyword">WHERE</span>语句中的一般用法：</span><br><span class="line"> <span class="keyword">SELECT</span> … <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">WHERE</span> 字段<span class="number">1</span> <span class="operator">&gt;</span>(子查询)</span><br><span class="line"> 外面的查询称为父查询，括号中嵌入的查询称为子查询 </span><br><span class="line"><span class="keyword">UPDATE</span>、<span class="keyword">INSERT</span>、<span class="keyword">DELETE</span>一起使用，语法类似于<span class="keyword">SELECT</span>语句 </span><br><span class="line">将子查询和比较运算符联合使用，必须保证子查询返回的值不能多于一个 </span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">查询年龄高于平均年龄的学生信息</span><br><span class="line"><span class="comment">-- a.查出学生的平均年龄</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(age) <span class="keyword">from</span>  student;</span><br><span class="line"><span class="comment">-- b.查询年龄高于平均年龄的学生信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student <span class="keyword">where</span> age<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(age) <span class="keyword">from</span>  student);</span><br></pre></td></tr></table></figure><h4 id="4-子查询练习"><a href="#4-子查询练习" class="headerlink" title="4.子查询练习"></a>4.子查询练习</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 学生表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> stu (</span><br><span class="line">sid <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">sname <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 课程表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(</span><br><span class="line">cid <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">cname <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- 分数表</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> sc(</span><br><span class="line">scid <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">sid <span class="type">int</span>,</span><br><span class="line">cid <span class="type">int</span>,</span><br><span class="line">score <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span>  stu <span class="keyword">values</span>(<span class="number">1</span>,&quot;张三&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span>  stu <span class="keyword">values</span>(<span class="number">2</span>,&quot;李四&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span>  stu <span class="keyword">values</span>(<span class="number">3</span>,&quot;王五&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="number">1</span>,&quot;语文&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="number">2</span>,&quot;数学&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span>(<span class="number">3</span>,&quot;英语&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">78</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">2</span>,<span class="number">2</span>,<span class="number">45</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">1</span>,<span class="number">59</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">3</span>,<span class="number">83</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">2</span>,<span class="number">42</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">2</span>,<span class="number">3</span>,<span class="number">54</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">69</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">2</span>,<span class="number">1</span>,<span class="number">72</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> sc(sid,cid,score) <span class="keyword">values</span>(<span class="number">3</span>,<span class="number">3</span>,<span class="number">34</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.获取到语文及格的每个学员的名字 </span></span><br><span class="line"><span class="comment">-- a.查询到语文的主键</span></span><br><span class="line"><span class="keyword">select</span> cid <span class="keyword">from</span> course <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;语文&#x27;</span>;</span><br><span class="line"><span class="comment">-- b.查询成绩表语文及格的学员id</span></span><br><span class="line"><span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> cid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> course <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;语文&#x27;</span>) <span class="keyword">and</span> score<span class="operator">&gt;=</span><span class="number">60</span>;</span><br><span class="line"><span class="comment">-- c.查学生表</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu <span class="keyword">where</span> sid <span class="keyword">in</span>(<span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> cid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> course <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;语文&#x27;</span>) <span class="keyword">and</span> score<span class="operator">&gt;=</span><span class="number">60</span>);</span><br><span class="line"><span class="comment">-- 2.获取平均成绩大于60的每个学生名字</span></span><br><span class="line"><span class="comment">-- a.查平均成绩大于60分的学生id</span></span><br><span class="line"><span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> <span class="built_in">avg</span>(score)<span class="operator">&gt;</span><span class="number">60</span>;  </span><br><span class="line"><span class="comment">-- b.查学生表</span></span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> stu <span class="keyword">where</span> sid <span class="keyword">in</span>(<span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> <span class="built_in">avg</span>(score)<span class="operator">&gt;</span><span class="number">60</span>);</span><br><span class="line"><span class="comment">-- 3.获取及格科目大于1个的每个学员的名字</span></span><br><span class="line"><span class="comment">-- a.获取及格科目大于1的学生id</span></span><br><span class="line"><span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- b.查询学生表</span></span><br><span class="line"><span class="keyword">select</span> sname <span class="keyword">from</span> stu <span class="keyword">where</span> sid <span class="keyword">in</span>(<span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> score<span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">group</span> <span class="keyword">by</span> sid <span class="keyword">having</span> <span class="built_in">count</span>(<span class="operator">*</span>)<span class="operator">&gt;</span><span class="number">1</span>);</span><br></pre></td></tr></table></figure><h4 id="5-组合查询"><a href="#5-组合查询" class="headerlink" title="5.组合查询"></a>5.组合查询</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UNION和UNION ALL的区别是,union会自动压缩多个结果集合中的重复结果，而union all则将所有的结果全部显示出来，不管是不是重复。</span><br><span class="line">前提条件:两张表列的数量要一致</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student1(</span><br><span class="line">s_id <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;范娜&#x27;</span>),(<span class="string">&#x27;002&#x27;</span>,<span class="string">&#x27;张三星&#x27;</span>),(<span class="string">&#x27;003&#x27;</span>,<span class="string">&#x27;李四海&#x27;</span>),(<span class="string">&#x27;004&#x27;</span>,<span class="string">&#x27;刘德华&#x27;</span>),(<span class="string">&#x27;005&#x27;</span>,<span class="string">&#x27;周润发&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student2(</span><br><span class="line">s_id <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student2 <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;范娜&#x27;</span>),(<span class="string">&#x27;006&#x27;</span>,<span class="string">&#x27;张学友&#x27;</span>),(<span class="string">&#x27;007&#x27;</span>,<span class="string">&#x27;喜羊羊&#x27;</span>),(<span class="string">&#x27;008&#x27;</span>,<span class="string">&#x27;灰太狼&#x27;</span>),(<span class="string">&#x27;005&#x27;</span>,<span class="string">&#x27;阿童木&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- union(会去除重复数据)</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student1</span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student2;</span><br><span class="line"><span class="comment">-- union all</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student1</span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> student2;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、表关系&quot;&gt;&lt;a href=&quot;#一、表关系&quot; class=&quot;headerlink&quot; title=&quot;一、表关系&quot;&gt;&lt;/a&gt;一、表关系&lt;/h2&gt;&lt;h4 id=&quot;a-一对一&quot;&gt;&lt;a href=&quot;#a-一对一&quot; class=&quot;headerlink&quot; title=&quot;a.一</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2024/05/08/MYSQL%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%96%87%E6%A1%A3/"/>
    <id>http://example.com/2024/05/08/MYSQL%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E6%96%87%E6%A1%A3/</id>
    <published>2024-05-08T09:39:33.830Z</published>
    <updated>2024-03-20T05:48:51.988Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、数据库简介"><a href="#一、数据库简介" class="headerlink" title="一、数据库简介"></a>一、数据库简介</h2><h3 id="1、简介"><a href="#1、简介" class="headerlink" title="1、简介"></a>1、简介</h3><p>数据库:存储数据库的仓库<br>数据库由一张一张的表组成 数据存储在表中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">一、数据库简介</span><br><span class="line">关系型数据库</span><br><span class="line">        关系-对象模型</span><br><span class="line">        把现实世界看作由实体和关系组成</span><br><span class="line">        实体的特征称为属性,我们可以使用属性来描述一个具体的实体</span><br><span class="line">        在关系型数据库中,使用二维表来描述实体以及实体之间的关系</span><br><span class="line">            </span><br><span class="line">    数据库管理系统（DBMS）</span><br><span class="line">        所有数据库软件的统称</span><br><span class="line">    关系型数据库管理系统（RDBMS）</span><br><span class="line">        所有关系型数据库的统称</span><br><span class="line">    关系型数据库和非关系型数据库的区别</span><br><span class="line">       关系型数据库使用二维表来存储数据库</span><br><span class="line">       非关系型数控不使用二维表存储数据</span><br><span class="line">二、SQL</span><br><span class="line">结构化查询语句,是一种用来管理关系型数据库,并与数据库中的数据进行通信的计算机语言</span><br><span class="line">三、SQL方言</span><br><span class="line">不同的关系型数据库之间,SQL语法有差异,这个差异就是SQL方言</span><br></pre></td></tr></table></figure><h3 id="2、主流数据库介绍"><a href="#2、主流数据库介绍" class="headerlink" title="2、主流数据库介绍"></a>2、主流数据库介绍</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">关系型 :用于大型系统开发，海量数据存储</span><br><span class="line">MySql:属于Oracle公司,免费开源,市面上使用比较多的版本是5.7和8</span><br><span class="line">Oracle:属于Oracle公司</span><br><span class="line">SQLServer:属于微软</span><br><span class="line">SQLLit</span><br><span class="line">非关系型：用作服务器缓存</span><br><span class="line">Redis MongoDB hBase</span><br></pre></td></tr></table></figure><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210227163151.png" alt="image-20210227163145723"></p><h2 id="二、MYSQL数据库简介"><a href="#二、MYSQL数据库简介" class="headerlink" title="二、MYSQL数据库简介"></a>二、MYSQL数据库简介</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MySQL是一个关系型数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，提高速度和灵活性</span><br><span class="line">MySQL是最好的、最流行的RDBMS(Relationa Database Management System，关系型数据库管理系统)之一</span><br><span class="line">MySQL体积小、速度快、成本低、代码开源，一般中小型网站的开发都选择 MySQL 作为网站数据库</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="三、数据库的安装"><a href="#三、数据库的安装" class="headerlink" title="三、数据库的安装"></a>三、数据库的安装</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">下载MySQL软件（版本：5.5、5.6、5.7、8.0）</span><br><span class="line">本地地址Q:\_04网络共享资料（新）\固定使用\技术部资料\软件资料\software\mysql</span><br><span class="line"></span><br><span class="line">配置初始化的my.ini文件</span><br><span class="line">初始化MySQL</span><br><span class="line">安装MySQL服务和启动MySQL服务</span><br><span class="line">连接MySQL和修改密码</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">可视化图形界面的安装</span><br><span class="line">Navicat是一套快速、可靠并价格相宜的数据库管理工具，专为简化数据库的管理及降低系统管理成本而设。</span><br><span class="line">Navicat是以直觉化的图形用户界面而建的，可以以安全、简单的方式创建、组织、访问并共用信息</span><br><span class="line">推荐使用Navicat Premium 64位，免安装破解版</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="四、SQL语句分类"><a href="#四、SQL语句分类" class="headerlink" title="四、SQL语句分类"></a>四、SQL语句分类</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">DDL(数据定义语言):数据库结构和表结构的增删改查</span><br><span class="line">DML(数据操作语言):表数据的增删改(*)</span><br><span class="line">DQL(数据查询语言):表数据的查询 (**)</span><br><span class="line">DCL(数据控制语言):数据库的权限控制</span><br></pre></td></tr></table></figure><h2 id="五、DDL"><a href="#五、DDL" class="headerlink" title="五、DDL"></a>五、DDL</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">数据库结构和表结构的增删改查</span><br><span class="line"></span><br><span class="line">DDL对应的关键字如下</span><br><span class="line">create</span><br><span class="line">drop</span><br><span class="line">alter</span><br><span class="line">show</span><br></pre></td></tr></table></figure><h3 id="1、命令行操作数据库"><a href="#1、命令行操作数据库" class="headerlink" title="1、命令行操作数据库"></a>1、命令行操作数据库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sql语句写完后以;结尾</span><br><span class="line"></span><br><span class="line">1.查看数据库服务器中所有的数据库</span><br><span class="line">show databases;</span><br><span class="line">2.创建数据库</span><br><span class="line">create database 数据库名称;</span><br><span class="line">3.删除数据库</span><br><span class="line">drop database 数据库名称;</span><br><span class="line">4.使用数据库</span><br><span class="line">use 数据库名称;</span><br><span class="line">5.查看数据库中的表</span><br><span class="line">show tables;</span><br></pre></td></tr></table></figure><h3 id="2、客户端连接mysql服务器"><a href="#2、客户端连接mysql服务器" class="headerlink" title="2、客户端连接mysql服务器"></a>2、客户端连接mysql服务器</h3><p>Navicat</p><p>Sqlyog</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql数据库默认的端口是3306</span><br><span class="line">      默认账号   root</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SQL语言</span><br><span class="line">不区分大小写</span><br><span class="line">关键字建议大写</span><br></pre></td></tr></table></figure><p>新建数据库</p><p>create datebase [数据库名]</p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210910141006.png" alt="image-20210910141000529"></p><p>删除数据库</p><p>drop datebase [数据库名]<br><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210910141208.png" alt="image-20210910141208758"></p><p>修改数据库</p><pre><code>略</code></pre><p>查看数据库</p><pre><code>肉眼看</code></pre><h3 id="3-表"><a href="#3-表" class="headerlink" title="3.表"></a>3.表</h3><p><img data-src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20220111164619121.png" alt="image-20220111164619121"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.建表</span></span><br><span class="line"><span class="comment">-- 语法: create table 表名(列名 数据类型,列名 数据类型);</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.删表</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br></pre></td></tr></table></figure><h2 id="六、DML"><a href="#六、DML" class="headerlink" title="六、DML"></a>六、DML</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">作用:实现表数据的增删改</span><br><span class="line"><span class="keyword">insert</span></span><br><span class="line"><span class="keyword">delete</span></span><br><span class="line"><span class="keyword">update</span></span><br><span class="line"></span><br><span class="line">#在MySql数据库中,字符串可以使用单引号或双引号表示</span><br></pre></td></tr></table></figure><h3 id="表"><a href="#表" class="headerlink" title="表"></a>表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">age <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="1-增"><a href="#1-增" class="headerlink" title="1.增"></a>1.增</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 数据中没有字符,单引号和双引号都表示字符串</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 增 </span></span><br><span class="line"><span class="comment">-- 向表中的所有列新增数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;王诛魔&#x27;</span>,<span class="number">200</span>);</span><br><span class="line"><span class="comment">-- 给指定的列插入数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,age) <span class="keyword">values</span>(<span class="string">&#x27;李杀神&#x27;</span>,<span class="number">300</span>);</span><br><span class="line"><span class="comment">-- 使用一条sql语句向表里面添加多行数据</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">400</span>),(<span class="number">5</span>,<span class="string">&#x27;aaa&#x27;</span>,<span class="number">600</span>);</span><br></pre></td></tr></table></figure><h3 id="2-删"><a href="#2-删" class="headerlink" title="2.删"></a>2.删</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 条件</span><br><span class="line"><span class="comment">-- 删除id为1的行</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="comment">-- 删除name为刘斩仙的行</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;刘斩仙&#x27;</span>;</span><br><span class="line"><span class="comment">-- 多条件删除(删除name为刘斩仙并且age为100的行数据)</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;刘斩仙&#x27;</span> <span class="keyword">and</span> age<span class="operator">=</span><span class="number">100</span>;</span><br><span class="line"><span class="comment">-- 删除name为王诛魔或者name为李杀神的行</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;王诛魔&#x27;</span> <span class="keyword">or</span> name<span class="operator">=</span><span class="string">&#x27;李杀神&#x27;</span>;</span><br><span class="line"><span class="comment">-- 清空表数据</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> student;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-改"><a href="#3-改" class="headerlink" title="3.改"></a>3.改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名<span class="operator">=</span>新值  <span class="keyword">where</span> 条件</span><br><span class="line"><span class="comment">-- 改</span></span><br><span class="line"><span class="comment">-- 修改赵日天的年龄为200</span></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span><span class="number">200</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;赵日天&#x27;</span>;</span><br><span class="line"><span class="comment">-- 把刘斩仙的年龄在以前的基础上加20</span></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> age<span class="operator">=</span>age<span class="operator">+</span><span class="number">20</span> <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;刘斩仙&#x27;</span> <span class="keyword">and</span> id<span class="operator">=</span><span class="number">7</span>;</span><br><span class="line"><span class="comment">-- 修改id为4的name为赵日地,age为50</span></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;赵日地&#x27;</span>,age<span class="operator">=</span><span class="number">50</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">4</span>;</span><br></pre></td></tr></table></figure><h2 id="七、MYSQL数据类型"><a href="#七、MYSQL数据类型" class="headerlink" title="七、MYSQL数据类型"></a>七、MYSQL数据类型</h2><p>整数类型</p><p>浮点数类型</p><p>字符串类型</p><p>日期类型</p><p>其他数据类型</p><h3 id="1、数值类"><a href="#1、数值类" class="headerlink" title="1、数值类"></a>1、数值类</h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>int(m)</td><td>整数 4个字节 范围(-2147483648~2147483647)</td></tr><tr><td>bigint(m)</td><td>整数 8个字节 范围(+-9.22*10的18次方)</td></tr><tr><td>float(m,d)</td><td>单精度浮点数8位精度  m总个数，d小数位</td></tr><tr><td>double(m,d)</td><td>双精度浮点数16位精度  m总个数，d小数位</td></tr><tr><td>decimal(m,d)</td><td>定点数  参数m&lt;65 是总个数，d&lt;30且 d&lt;m 是小数位</td></tr></tbody></table><p><font color=red>浮点型在数据库中存放的是近似值，而定点类型在数据库中存放的是精确值。 </font></p><h3 id="2、字符串类型"><a href="#2、字符串类型" class="headerlink" title="2、字符串类型"></a>2、字符串类型</h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>char(n)</td><td>固定长度，最多255个字符</td></tr><tr><td>varchar(n)</td><td>可变长度，最多65535个字符</td></tr><tr><td>tinytext</td><td>单可变长度，最多255个字符</td></tr><tr><td>text</td><td>可变长度，最多65535个字符</td></tr><tr><td>mediumtext</td><td>可变长度，最多2的24次方-1个字符</td></tr><tr><td>longtext</td><td>可变长度，最多2的32次方-1个字符</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">char 和 varchar：</span><br><span class="line">1.char(n)和varchar(n)中的n用来限制这一列能够插入的字符串的最大长度为n.</span><br><span class="line">1.char(n) 若存入字符数小于n，则以空格补于其后，查询之时再将空格去掉。所以 char 类型存储的字符串末尾不能有空格，varchar 不限于此。</span><br><span class="line">2.char(n) 固定长度，char(4) 不管是存入几个字符，都将占用 4 个字符，varchar 是存入的实际字符数 +1 个字节（n&lt;=255）或2个字节(n&gt;255)，所以 varchar(4),存入 3 个字符将占用 4 个字节。</span><br><span class="line"></span><br><span class="line">MySQL 5.0 以上的版本：</span><br><span class="line">一个汉字占多少长度与编码有关：</span><br><span class="line">UTF－8：一个汉字＝3个字节</span><br><span class="line">GBK：一个汉字＝2个字节</span><br><span class="line">varchar(n) 表示 n 个字符，无论汉字和英文，Mysql 都能存入 n 个字符，仅是实际字节长度有所区别</span><br></pre></td></tr></table></figure><p>MySQL 检查长度，可用 SQL 语言来查看：</p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210227163246.png" alt="image-20210227163246496"></p><h3 id="3、日期时间类型"><a href="#3、日期时间类型" class="headerlink" title="3、日期时间类型"></a>3、日期时间类型</h3><table><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>date</td><td>日期 ‘2008-12-2’</td></tr><tr><td>time</td><td>时间 ‘12:25:36’</td></tr><tr><td>datetime</td><td>日期时间 ‘2008-12-2 22:06:44’</td></tr><tr><td>timestamp</td><td>自动存储记录修改时间</td></tr></tbody></table><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">若定义一个字段为timestamp，这个字段里的时间数据会随其他字段修改的时候自动刷新，所以这个数据类型的字段可以存放这条记录最后被修改的时间。</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">s_id <span class="type">int</span>,</span><br><span class="line">s_name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">gender <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">height <span class="keyword">double</span>,</span><br><span class="line">weight <span class="keyword">double</span>,</span><br><span class="line">birthday <span class="type">date</span>,</span><br><span class="line">id_card <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">createtime datetime,</span><br><span class="line">updatetime <span class="type">TIMESTAMP</span> <span class="comment">-- 时间戳,当我们对表的数据进行修改时,它会自动刷新</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;赵昊&#x27;</span>,<span class="string">&#x27;男&#x27;</span>,<span class="number">20</span>,<span class="number">180.5</span>,<span class="number">62.5</span>,<span class="string">&#x27;2020/10/01&#x27;</span>,<span class="string">&#x27;111&#x27;</span>,SYSDATE(),SYSDATE());</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;铁锤&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">21</span>,<span class="number">175.3</span>,<span class="number">63.5</span>,<span class="string">&#x27;2020/10/02&#x27;</span>,<span class="string">&#x27;111&#x27;</span>,SYSDATE(),SYSDATE());</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;山炮&#x27;</span>,<span class="string">&#x27;女&#x27;</span>,<span class="number">22</span>,<span class="number">170.5</span>,<span class="number">64.5</span>,<span class="string">&#x27;2020/10/03&#x27;</span>,<span class="string">&#x27;111&#x27;</span>,SYSDATE(),SYSDATE());</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> student <span class="keyword">set</span> id_card<span class="operator">=</span><span class="string">&#x27;123&#x27;</span> <span class="keyword">where</span> s_name<span class="operator">=</span><span class="string">&#x27;赵昊&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">时间戳</span><br><span class="line">存储数据的最后修改时间,数据类型用时间戳,当我们对表数据进行修改时,这一列的时间会自动刷新</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、数据库简介&quot;&gt;&lt;a href=&quot;#一、数据库简介&quot; class=&quot;headerlink&quot; title=&quot;一、数据库简介&quot;&gt;&lt;/a&gt;一、数据库简介&lt;/h2&gt;&lt;h3 id=&quot;1、简介&quot;&gt;&lt;a href=&quot;#1、简介&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2024/05/08/MYSQL%E9%AB%98%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/"/>
    <id>http://example.com/2024/05/08/MYSQL%E9%AB%98%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/</id>
    <published>2024-05-08T09:39:33.828Z</published>
    <updated>2024-03-20T05:47:19.718Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、组合查询"><a href="#一、组合查询" class="headerlink" title="一、组合查询"></a>一、组合查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UNION和UNION ALL的区别是,union会自动压缩多个结果集合中的重复结果，而union all则将所有的结果全部显示出来，不管是不是重复。</span><br><span class="line">前提条件:两张表列的数量要一致</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student1(</span><br><span class="line">s_id <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student1 <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;范娜&#x27;</span>),(<span class="string">&#x27;002&#x27;</span>,<span class="string">&#x27;张三星&#x27;</span>),(<span class="string">&#x27;003&#x27;</span>,<span class="string">&#x27;李四海&#x27;</span>),(<span class="string">&#x27;004&#x27;</span>,<span class="string">&#x27;刘德华&#x27;</span>),(<span class="string">&#x27;005&#x27;</span>,<span class="string">&#x27;周润发&#x27;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student2(</span><br><span class="line">s_id <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student2 <span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;001&#x27;</span>,<span class="string">&#x27;范娜&#x27;</span>),(<span class="string">&#x27;006&#x27;</span>,<span class="string">&#x27;张学友&#x27;</span>),(<span class="string">&#x27;007&#x27;</span>,<span class="string">&#x27;喜羊羊&#x27;</span>),(<span class="string">&#x27;008&#x27;</span>,<span class="string">&#x27;灰太狼&#x27;</span>),(<span class="string">&#x27;005&#x27;</span>,<span class="string">&#x27;阿童木&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="二、视图"><a href="#二、视图" class="headerlink" title="二、视图"></a>二、视图</h2><pre><code>    视图是一张虚拟表,是一个查询结果集  其结构和数据是建立在对表的查询基础上 视图中不存放数据。数据存放在视图所引用的原始表中 一个原始表，根据不同用户的不同需求，可以创建不同的视图。</code></pre><p><font color=red>创建视图的作用是方便查询，视图一般不用做更新数据</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 视图看作一张虚拟的表,保存的是查询语句,视图不保存数据</span></span><br><span class="line"><span class="comment">-- 视图的作用是为了简化查询sql</span></span><br><span class="line">语法:</span><br><span class="line">  #创建视图语法</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">VIEW</span> 视图名  <span class="keyword">AS</span>  (<span class="operator">&lt;</span><span class="keyword">SELECT</span> 语句<span class="operator">&gt;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建视图</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> my_view <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> stu <span class="keyword">where</span> sid <span class="keyword">in</span>(<span class="keyword">select</span> sid <span class="keyword">from</span> sc <span class="keyword">where</span> cid<span class="operator">=</span>(<span class="keyword">select</span> cid <span class="keyword">from</span> course <span class="keyword">where</span> cname<span class="operator">=</span><span class="string">&#x27;语文&#x27;</span>) <span class="keyword">and</span> score<span class="operator">&gt;=</span><span class="number">60</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询视图</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> my_view;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除视图</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> my_view;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="五、索引"><a href="#五、索引" class="headerlink" title="五、索引"></a>五、索引</h2><h3 id="1、索引简介"><a href="#1、索引简介" class="headerlink" title="1、索引简介"></a>1、索引简介</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">索引的建立可以极大的提高数据库的检索速度</span><br><span class="line">索引的创建比较耗时,并且索引会占用计算机的存储空间</span><br></pre></td></tr></table></figure><h3 id="2、索引分类"><a href="#2、索引分类" class="headerlink" title="2、索引分类"></a>2、索引分类</h3><h4 id="a、普通索引"><a href="#a、普通索引" class="headerlink" title="a、普通索引"></a>a、普通索引</h4><pre><code>    普通索引是最基本的索引，它没有任何限制，允许在定义索引的列中插入重复值和空值</code></pre><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> `village`;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> village;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> village <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;银闸社区居委会&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 索引</span></span><br><span class="line"><span class="comment">-- 作用:索引的建立可以极大的提高数据库的查询速度</span></span><br><span class="line"><span class="comment">-- 了解:索引在创建的时候比较耗时,并且创建索引也会占用存储空间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 索引的分类</span></span><br><span class="line"><span class="comment">-- 普通索引</span></span><br><span class="line"><span class="comment">-- 主键索引</span></span><br><span class="line"><span class="comment">-- 主键自带索引</span></span><br><span class="line"><span class="comment">-- 唯一索引</span></span><br><span class="line"><span class="comment">-- 组合索引</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 索引的用法:在查询的时候以有索引的列为条件进行查询,可以提高查询效率</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 普通索引的语法</span></span><br><span class="line"><span class="comment">-- 创建索引 create index 索引名称 on 表名(列名)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查看表中的索引 SHOW INDEX FROM 表名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除索引 drop index 索引名 on 表名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询索引</span></span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> village;</span><br><span class="line"><span class="comment">-- 创建索引</span></span><br><span class="line"><span class="keyword">create</span> index name_index <span class="keyword">on</span> village(name);</span><br><span class="line"><span class="comment">-- 删除索引</span></span><br><span class="line"><span class="keyword">drop</span> index name_index <span class="keyword">on</span> village;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 当我们以具有索引的列进行条件查询时,可以提高查询效率</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> village <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;银闸社区居委会&#x27;</span> <span class="keyword">and</span> streetCode<span class="operator">=</span><span class="string">&#x27;110101001&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 索引失效</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> village <span class="keyword">where</span> streetCode<span class="operator">=</span><span class="string">&#x27;110101001&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 索引失效</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> village <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;%社区居&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 主键自带索引,当我们以主键进行条件查询时,速度也非常快.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 如果表的数据量非常大,怎么提高查询效率</span></span><br><span class="line"><span class="comment">-- 给频繁查询的列创建索引</span></span><br><span class="line"><span class="comment">-- 索引在什么时候失效</span></span><br><span class="line"><span class="comment">-- 1.以or进行多条件查询时</span></span><br><span class="line"><span class="comment">-- 2.使用like进行模糊查询%在前面时</span></span><br></pre></td></tr></table></figure><h4 id="b、唯一索引"><a href="#b、唯一索引" class="headerlink" title="b、唯一索引"></a>b、唯一索引</h4><pre><code>    索引列的值必须唯一，允许有空值，如果是组合索引，列值的组合必须唯一</code></pre><h4 id="c、主键索引"><a href="#c、主键索引" class="headerlink" title="c、主键索引"></a>c、主键索引</h4><pre><code>主键索引是一种特殊的唯一索引，一个表只能有一个主键，不允许有空值，一般是在创建表的时候指定主键，主键默认就是主键索引</code></pre><h4 id="d、组合索引"><a href="#d、组合索引" class="headerlink" title="d、组合索引"></a>d、组合索引</h4><pre><code>多个字段上创建的索引，只有在查询条件中使用了创建索引时的第一个字段，索引才会被使用</code></pre><h2 id="六、事务"><a href="#六、事务" class="headerlink" title="六、事务"></a>六、事务</h2><p>事务又叫做TCL，全称是transaction control language，意思是事务控制语言。</p><p><font color='red'><strong>事务的定义</strong>：组成一个业务的多条sql语句要么全部执行成功，要么全部执行失败，这就是事务</font></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">事务的特性:</span><br><span class="line"> 原子性Atomicity：原子性指的是事务是一个不可分割的，看作一个整体。</span><br><span class="line">一致性Consistency：组成事物的多个sql语句要么全部执行成功,要么全部执行失败.</span><br><span class="line">隔离性Isolation：指的是一个事务的执行，不能被其他的事务所干扰。</span><br><span class="line">持久性Durability：事物对数据库的改变就是永久的。</span><br></pre></td></tr></table></figure><p><font color=red>提示：mysql中默认是自动提交事务，如果要自己控制事务需要关闭mysql的自动提交事务</font></p><p><font color=red>打开自动提交事务：SET AUTOCOMMIT&#x3D;1</font></p><p><font color=red>关闭自动提交事务：SET AUTOCOMMIT&#x3D;0</font></p><p><font color=blue>案例：使用事务完成转帐操作。</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 事物</span></span><br><span class="line"><span class="comment">-- 一个业务中的一组sql语句,要么全部执行成功,要么全部执行失败</span></span><br><span class="line"><span class="comment">-- 事物的特性:</span></span><br><span class="line"><span class="comment">-- 原子性:组成一个事物的多条sql语句看作一个整体,不可分割</span></span><br><span class="line"><span class="comment">-- 一致性:组成一个事物的多条sql语句要么全部成功,要么全部失败</span></span><br><span class="line"><span class="comment">-- 隔离性:事物跟事物之间相互隔离,互不影响</span></span><br><span class="line"><span class="comment">-- 持久性:数据的改变一定时永久的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 事物编程</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> bank(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">account <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">money <span class="keyword">double</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> bank(account,money) <span class="keyword">values</span>(<span class="string">&#x27;1001&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> bank(account,money) <span class="keyword">values</span>(<span class="string">&#x27;1002&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> bank;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 开启自动提交 SET AUTOCOMMIT=1</span></span><br><span class="line"><span class="comment">-- 关闭自动提交 SET AUTOCOMMIT=0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.开启事物</span></span><br><span class="line"><span class="keyword">SET</span> AUTOCOMMIT<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"><span class="comment">-- 2.执行sql语句</span></span><br><span class="line"><span class="comment">-- 1001给1002转账100元</span></span><br><span class="line"><span class="keyword">update</span> bank <span class="keyword">set</span> money<span class="operator">=</span>money<span class="number">-100</span> <span class="keyword">where</span> account<span class="operator">=</span><span class="string">&#x27;1001&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> bank <span class="keyword">set</span> money<span class="operator">=</span>money<span class="operator">+</span><span class="number">100</span> <span class="keyword">where</span> account<span class="operator">=</span><span class="string">&#x27;1002&#x27;</span>;</span><br><span class="line"><span class="comment">-- 3.如果sql语句都执行成功,则确认(提交)</span></span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br><span class="line"><span class="comment">-- 4.如果sql语句没有全部执行成功,则撤销(回滚)</span></span><br><span class="line"><span class="keyword">ROLLBACK</span>;</span><br><span class="line"><span class="comment">-- 5.关闭事物</span></span><br><span class="line"><span class="keyword">SET</span> AUTOCOMMIT<span class="operator">=</span><span class="number">1</span>;</span><br></pre></td></tr></table></figure><p><font color=red>mysq中不能自动回滚需要手动判断发生错误然后手动回滚。</font></p><h2 id="七、数据库三范式"><a href="#七、数据库三范式" class="headerlink" title="七、数据库三范式"></a>七、数据库三范式</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">范式:前人在表设计时的经验总结</span><br><span class="line">为了建立冗余较小,结果合理的数据库,我们需要遵循数据库的范式</span><br></pre></td></tr></table></figure><p>范式是关系数据库理论的基础，也是我们在设计数据库结构过程中所要遵循的规则和指导方法。</p><p><strong>分类</strong>:1NF 2NF 3NF BCNF 4NF 5NF DKNF  6NF。</p><p><strong>常用范式</strong>: 1NF、 2NF、3NF 。</p><p><strong>目的</strong><br>    ●减少冗余<br>    ●减少异常(Delete， Update， Insert)<br>    ●让数据组织的更加和谐</p><p>**第一范式 (1NF):**强调的是列的原子性，即列不能够再分成其他几列。</p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210304170051.png" alt="image-20210304170051308"></p><p>**第二范式(2NF) :**首先要满足1NF，另外还需要包含两部分内容:一是表必须有一个主键;二是没有包含在主键中的列必须完全依赖于主键，而不能只依赖于主键的一部分或者非主键。</p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20211022103751.png" alt="image-20211022103751723"></p><p>**第三范式(3NF) :**首先要满足2NF，另外非主键列必须直接依赖于主键，不能存在传递依赖。即不能存在:非主键列A依赖于非主键列B，非主键列B依赖于主键的情况。</p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/20210304084728.png" alt="image-20210304084728249"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、组合查询&quot;&gt;&lt;a href=&quot;#一、组合查询&quot; class=&quot;headerlink&quot; title=&quot;一、组合查询&quot;&gt;&lt;/a&gt;一、组合查询&lt;/h2&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2024/05/08/MYSQL%E5%88%9D%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/"/>
    <id>http://example.com/2024/05/08/MYSQL%E5%88%9D%E7%BA%A7%E8%BF%9B%E9%98%B6%E6%96%87%E6%A1%A3/</id>
    <published>2024-05-08T09:16:36.818Z</published>
    <updated>2024-03-20T05:48:21.052Z</updated>
    
    <content type="html"><![CDATA[<h2 id="一、表约束"><a href="#一、表约束" class="headerlink" title="一、表约束"></a>一、表约束</h2><h3 id="1、表约束"><a href="#1、表约束" class="headerlink" title="1、表约束"></a>1、表约束</h3><p>表约束是为了保证表结构和表数据的完整性,我们需要用到表约束</p><table><thead><tr><th>名称</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>NOT NULL</td></tr><tr><td>默认约束</td><td>DEFAULT</td></tr><tr><td>唯一约束</td><td>UNIQUE KEY(UK)</td></tr><tr><td>主键约束</td><td>PRIMARY KEY(PK)</td></tr><tr><td>外键约束</td><td>FOREIGN KEY(FK)</td></tr><tr><td>自动增长</td><td>AUTO_INCREMENT</td></tr><tr><td>检测约束</td><td>check</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#表约束</span><br><span class="line">#作用:为了保证表结构和表数据的完整性,我们需要用到表约束</span><br><span class="line"></span><br><span class="line">#<span class="number">1.</span>主键约束</span><br><span class="line">#用来唯一标识每一行数据</span><br><span class="line">#作用:一个表只能有一个主键，主键约束确保了表中的行是唯一的</span><br><span class="line">#语法:<span class="keyword">primary</span> key</span><br><span class="line">#主键的特点:不能为空,不能重复</span><br><span class="line">#<span class="number">2.</span>自增长约束</span><br><span class="line">#作用:实现主键的自增长</span><br><span class="line">#语法:auto_increment</span><br><span class="line">#<span class="number">3.</span>非空约束</span><br><span class="line">#语法:<span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">#<span class="number">4.</span>唯一性约束</span><br><span class="line">#语法:<span class="keyword">unique</span></span><br><span class="line">#<span class="number">5.</span>默认值约束</span><br><span class="line">#语法:<span class="keyword">default</span></span><br><span class="line">#<span class="number">6.</span>检查约束</span><br><span class="line">#用来限定列可能的取值个数</span><br><span class="line">#语法<span class="keyword">check</span></span><br><span class="line">#<span class="number">7.</span>外键约束</span><br><span class="line">#作用:用来限制外键只能填它关联的那个表的主键已经存在的数据</span><br><span class="line">#语法:<span class="keyword">foreign</span> key(外键名) <span class="keyword">references</span> 表名(主键名)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>表约束一</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-- 表约束</span><br><span class="line">-- 作用:为了保证表结构和表数据的完整性</span><br><span class="line">-- <span class="number">1.</span>非空约束 not <span class="literal">null</span></span><br><span class="line">-- <span class="number">2.</span>唯一性约束 unique</span><br><span class="line">-- <span class="number">3.</span>默认值约束 <span class="keyword">default</span></span><br><span class="line">-- <span class="number">4.</span>检查约束 check</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table <span class="title function_">student</span><span class="params">(</span></span><br><span class="line"><span class="params">id <span class="type">int</span>,</span></span><br><span class="line"><span class="params">name varchar(<span class="number">10</span>)</span> not <span class="literal">null</span>, -- 非空约束</span><br><span class="line">id_card <span class="title function_">varchar</span><span class="params">(<span class="number">20</span>)</span> unique, -- 唯一约束</span><br><span class="line">weight <span class="type">double</span> <span class="keyword">default</span> <span class="number">60</span>,-- 默认值约束</span><br><span class="line">sex <span class="title function_">varchar</span><span class="params">(<span class="number">10</span>)</span> check(sex=<span class="string">&#x27;男&#x27;</span> or sex=<span class="string">&#x27;女&#x27;</span>) -- 检查约束</span><br><span class="line">);</span><br><span class="line">insert into student <span class="title function_">values</span><span class="params">(<span class="number">1</span>,<span class="string">&#x27;赵日天&#x27;</span>,<span class="string">&#x27;111&#x27;</span>,<span class="number">80</span>,<span class="string">&#x27;男&#x27;</span>)</span>;</span><br><span class="line">insert into <span class="title function_">student</span><span class="params">(id,name,id_card)</span> values(<span class="number">2</span>,<span class="string">&#x27;王诛魔&#x27;</span>,<span class="string">&#x27;112&#x27;</span>);</span><br></pre></td></tr></table></figure><p><strong>表约束二</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">5.</span>主键约束</span><br><span class="line">#用来唯一标识每一行数据</span><br><span class="line">#作用:一个表只能有一个主键，主键约束确保了表中的行是唯一的</span><br><span class="line">#语法:<span class="keyword">primary</span> key</span><br><span class="line">#主键的特点:不能为空,不能重复</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 5.主键约束</span></span><br><span class="line">#用来唯一标识每一行数据</span><br><span class="line">#作用:一个表只能有一个主键，主键约束确保了表中的行是唯一的</span><br><span class="line">#语法:<span class="keyword">primary</span> key</span><br><span class="line">#主键的特点:不能为空,不能重复</span><br><span class="line"><span class="comment">-- 6.自增长约束</span></span><br><span class="line"><span class="comment">-- auto_increment</span></span><br><span class="line"><span class="comment">-- 作用:实现主键自动增长</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student2(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,<span class="comment">-- 主键约束;自增长约束</span></span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student2(name) <span class="keyword">values</span>(<span class="string">&#x27;赵日天&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student2 <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;王诛魔&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#<span class="number">6.</span>自增长约束</span><br><span class="line">#作用:实现主键的自增长</span><br><span class="line">#语法:auto_increment</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>表约束三</strong></p><p><img data-src="https://woniumd.oss-cn-hangzhou.aliyuncs.com/java/chenyun/image-20211130115439248.png" alt="image-20211130115439248"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">外键约束</span><br><span class="line"><span class="comment">-- 外键约束</span></span><br><span class="line"><span class="comment">-- 作用:外键只能关联到其它表的主键,并且只能填写它关联的主键已存在的数据</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> class(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> class(name) <span class="keyword">values</span>(<span class="string">&#x27;一班&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> class(name) <span class="keyword">values</span>(<span class="string">&#x27;二班&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> class(name) <span class="keyword">values</span>(<span class="string">&#x27;三班&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> class(name) <span class="keyword">values</span>(<span class="string">&#x27;四班&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>),</span><br><span class="line">class_id <span class="type">int</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(class_id) <span class="keyword">references</span> class(id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id) <span class="keyword">values</span>(<span class="string">&#x27;赵日天&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id) <span class="keyword">values</span>(<span class="string">&#x27;李杀神&#x27;</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id) <span class="keyword">values</span>(<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">2</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student(name,class_id) <span class="keyword">values</span>(<span class="string">&#x27;王诛魔&#x27;</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><h2 id="二、DQL"><a href="#二、DQL" class="headerlink" title="二、DQL"></a>二、DQL</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">数据查询语言</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line"> 作用是把数据库表里面的数据查询出来</span><br></pre></td></tr></table></figure><h3 id="1、运算符"><a href="#1、运算符" class="headerlink" title="1、运算符"></a>1、运算符</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- DQL</span></span><br><span class="line"><span class="keyword">select</span></span><br><span class="line"></span><br><span class="line">#<span class="number">1.</span>算术运算符 <span class="operator">+</span><span class="operator">-</span><span class="operator">*</span><span class="operator">/</span><span class="operator">%</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span><span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span><span class="number">-1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span><span class="operator">*</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">3</span><span class="operator">/</span><span class="number">2</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">3</span><span class="operator">%</span><span class="number">2</span>;</span><br><span class="line">#<span class="number">2.</span>关系运算符</span><br><span class="line">#关系运算符的结果为真(用数字<span class="number">1</span>表示)或者假(用数字<span class="number">0</span>表示假)</span><br><span class="line">#<span class="operator">&gt;</span> <span class="operator">&gt;=</span>  <span class="operator">&lt;</span> <span class="operator">&lt;=</span> <span class="operator">=</span>  <span class="operator">!=</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">2</span><span class="operator">&gt;</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">2</span><span class="operator">&lt;</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">2</span><span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">2</span><span class="operator">!=</span><span class="number">2</span>;</span><br><span class="line">#between... and...</span><br><span class="line"><span class="keyword">select</span> <span class="number">5</span> <span class="keyword">between</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">#<span class="keyword">like</span></span><br><span class="line">#判断李杀神是否姓李</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;李杀神&#x27;</span> <span class="keyword">like</span> <span class="string">&#x27;李%&#x27;</span>;</span><br><span class="line">#判断李杀神是否以神结尾</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;李杀神&#x27;</span> <span class="keyword">like</span> <span class="string">&#x27;%神&#x27;</span>;</span><br><span class="line">#判断李杀神中是否包含杀</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;李杀神&#x27;</span> <span class="keyword">like</span> <span class="string">&#x27;%杀%&#x27;</span>;</span><br><span class="line">#空判断</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;&#x27;</span><span class="operator">=</span><span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">null</span> <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">#<span class="number">3.</span>逻辑运算符</span><br><span class="line">#结果：真（<span class="number">1</span>） 假（<span class="number">0</span>）</span><br><span class="line">#与<span class="keyword">and</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">1</span> <span class="keyword">and</span> <span class="number">1</span>;</span><br><span class="line">#或 <span class="keyword">or</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">0</span> <span class="keyword">or</span> <span class="number">0</span>;</span><br><span class="line">#非 <span class="keyword">not</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">not</span> <span class="number">0</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法</span><br><span class="line">SELECT 列名,列名... FROM 表名 WHERE 条件</span><br></pre></td></tr></table></figure><h3 id="2、基本查询"><a href="#2、基本查询" class="headerlink" title="2、基本查询"></a>2、基本查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> employee(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">VARCHAR</span>(<span class="number">100</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">salary <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;赵日天&#x27;</span>,<span class="number">23</span>,<span class="number">6000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;李杀神&#x27;</span>,<span class="number">24</span>,<span class="number">4500</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;王诛魔&#x27;</span>,<span class="number">20</span>,<span class="number">5000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">30</span>,<span class="number">30000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">5</span>,<span class="string">&#x27;&#x27;</span>,<span class="number">29</span>,<span class="number">15000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">6</span>,<span class="keyword">null</span>,<span class="number">35</span>,<span class="number">40000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> employee <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;刘斩仙&#x27;</span>,<span class="number">30</span>,<span class="number">30000</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 语法 select 列名...... from 表名 where 条件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1查询所有信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 2只查询出所有人的姓名</span></span><br><span class="line"><span class="keyword">select</span> name <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 3只查询出所有人的姓名,并给列名取中文别名</span></span><br><span class="line"><span class="keyword">select</span> name <span class="keyword">as</span> <span class="string">&#x27;姓名&#x27;</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 4查询出所有人的姓名和薪资</span></span><br><span class="line"><span class="keyword">select</span> name,salary <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 5查询出所有人的姓名和薪资-1000</span></span><br><span class="line"><span class="keyword">select</span> name,salary<span class="number">-1000</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 6查询出所有人的姓名和薪资-1000并且年龄加10</span></span><br><span class="line"><span class="keyword">select</span> name,salary<span class="number">-1000</span>,age<span class="operator">+</span><span class="number">10</span> <span class="keyword">from</span> employee;</span><br><span class="line"><span class="comment">-- 7查询薪资大于5000的所有信息</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary<span class="operator">&gt;</span><span class="number">5000</span>;</span><br><span class="line"><span class="comment">-- 8查询薪资在2000和5000之间 (两种方式)</span></span><br><span class="line"><span class="comment">-- 方式一</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary<span class="operator">&gt;=</span><span class="number">2000</span> <span class="keyword">and</span> salary<span class="operator">&lt;=</span><span class="number">5000</span>;</span><br><span class="line"><span class="comment">-- 方式二</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> salary <span class="keyword">between</span> <span class="number">2000</span> <span class="keyword">and</span> <span class="number">5000</span>;</span><br><span class="line"><span class="comment">-- 9查询姓名为空字符串</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">-- 10查询姓名为null</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">-- 11查询姓名包含神字的</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;%神%&#x27;</span>;</span><br><span class="line"><span class="comment">-- 12 查询赵日天的所有信息，查询的结果把赵日天的薪资加1000</span></span><br><span class="line"><span class="keyword">select</span> id,name,age,salary<span class="operator">+</span><span class="number">1000</span> <span class="keyword">from</span> employee <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;赵日天&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;一、表约束&quot;&gt;&lt;a href=&quot;#一、表约束&quot; class=&quot;headerlink&quot; title=&quot;一、表约束&quot;&gt;&lt;/a&gt;一、表约束&lt;/h2&gt;&lt;h3 id=&quot;1、表约束&quot;&gt;&lt;a href=&quot;#1、表约束&quot; class=&quot;headerlink&quot; title=&quot;1、表</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2024/05/08/hello-world/"/>
    <id>http://example.com/2024/05/08/hello-world/</id>
    <published>2024-05-08T09:08:21.586Z</published>
    <updated>2024-05-08T09:08:21.586Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvLw==">Hexo</span>! This is your very first post. Check <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=">troubleshooting</span> or you can ask me on <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==">GitHub</span>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s">Writing</span></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=">Server</span></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s">Generating</span></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s">Deployment</span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9oZXhvLmlvLw==&quot;&gt;Hexo&lt;/span&gt;! This is your very first post. Check &lt;span class=&quot;exturl&quot;</summary>
      
    
    
    
    
  </entry>
  
</feed>
